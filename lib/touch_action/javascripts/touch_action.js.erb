(function( touch_action, $, undefined ) {

  touch_action.perform_gesture = function(selenium_finalized_callback) {

    YUI().use('node-event-simulate', function(Y) {
      
      var node = Y.one(touch_action.element);
      node.simulateGesture(touch_action.gesture, touch_action.options);
        
    });    

    selenium_finalized_callback();
  };


}( window.touch_action = window.touch_action || {} ));

touch_action.element = arguments[0];

touch_action.gesture = "<%=gesture%>";

touch_action.options =  <%=options.to_json%>;

touch_action.perform_gesture(arguments[arguments.length - 1]);